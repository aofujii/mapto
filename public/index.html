<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MapTo - ロケーション投稿プロトタイプ</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      crossorigin=""
    />
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <main class="app-shell">
      <div id="map" class="map-view"></div>
      <div class="overlay">
        <header class="topbar">
          <div class="brand">
            <span class="brand-mark">📍</span>
            <div>
              <h1>MapTo</h1>
              <p>今のきもちをマップにポストしよう</p>
            </div>
          </div>
          <button
            type="button"
            id="enable-notifications"
            class="secondary-button topbar-button"
          >
            投稿リマインダーを受け取る
          </button>
        </header>

        <section class="composer-card">
          <form id="post-form" class="post-form">
            <div class="composer-header">
              <h2>いまの気分をシェア</h2>
              <button
                type="button"
                id="use-current-location"
                class="secondary-button ghost"
              >
                現在地に合わせる
              </button>
            </div>

            <div class="mood-picker" id="mood-picker">
              <button type="button" data-mood="😊">😊</button>
              <button type="button" data-mood="🔥">🔥</button>
              <button type="button" data-mood="🌧️">🌧️</button>
              <button type="button" data-mood="🌸">🌸</button>
              <button type="button" data-mood="🍜">🍜</button>
              <button type="button" data-mood="🎧">🎧</button>
              <button type="button" data-mood="🏖️">🏖️</button>
              <button type="button" data-mood="🚴">🚴</button>
            </div>

            <label class="sr-only" for="post-text">投稿内容</label>
            <textarea
              id="post-text"
              name="text"
              maxlength="500"
              placeholder="メッセージやおすすめを残してみよう（なくてもOK）"
            ></textarea>
            <div class="form-footer">
              <span id="selected-location" class="location-hint"
                >投稿位置が未設定です。現在地か地図をタップして選んでください。</span
              >
              <button type="submit" class="primary-button">マップに投稿</button>
            </div>
          </form>
        </section>

        <section class="timeline-card">
          <div class="timeline-header">
            <div>
              <h2>近くの投稿</h2>
              <p>最新の24時間だけが表示されます</p>
            </div>
            <label class="radius-select">
              <span>範囲</span>
              <select id="radius">
                <option value="1000">1 km</option>
                <option value="3000">3 km</option>
                <option value="5000" selected>5 km</option>
                <option value="10000">10 km</option>
              </select>
            </label>
          </div>
          <ul id="timeline" class="timeline-list"></ul>
        </section>
      </div>
    </main>

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      crossorigin=""
    ></script>
    <script src="/main.js" type="module"></script>
  </body>
</html>
